<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
  
  <meta property="og:title" content="ì‹ ë™ìœ¤ Â· ì‹ ì§€ì—° ê²°í˜¼ì‹ì— ì´ˆëŒ€í•©ë‹ˆë‹¤" />
  <meta property="og:description" content="2026ë…„ 5ì›” 23ì¼ ì €ë… 6ì‹œ 30ë¶„, ë‚¨ì‚°ì˜ˆìˆ ì› ì›¨ë”©í™€" />
  <meta property="og:image" content="https://indisohari.github.io/invitation-v2/main.jpg" />
  <meta property="og:type" content="website" />

  <style>
    /* 1. ê¸°ë³¸ ë² ì´ìŠ¤ (v1 ì˜¤ë¦¬ì§€ë„: ê³ ë”• í°íŠ¸ + íšŒìƒ‰ ë°°ê²½) */
    html, body {
      margin: 0; padding: 0; width: 100%; 
      background: #fafafa; 
      font-family: system-ui, -apple-system, Arial, sans-serif; 
      color: #111;
    }
    .wrap { max-width: 720px; margin: 0 auto; padding: 12px 12px 60px; box-sizing: border-box; }
    
    /* ì¹´ë“œ ë””ìì¸ ë³µêµ¬ */
    .card { background:#fff; border-radius:16px; padding: 20px 18px; box-shadow: 0 4px 15px rgba(0,0,0,.04); margin: 10px 0; }
    
    /* 2. íƒ€ì´í¬ê·¸ë˜í”¼ */
    h1 { 
      font-size: clamp(18px, 5.5vw, 23px); 
      margin: 0 0 15px; letter-spacing: -0.8px; white-space: nowrap; word-break: keep-all; line-height: 1.4; text-align: center; 
    }
    h2 { 
      font-size: clamp(14px, 4.5vw, 18px); margin: 0; color: #333; display: flex; align-items: center; gap: 6px; white-space: nowrap; flex-shrink: 0;
    }
    
    .muted { color:#777; font-size: 13px; line-height: 1.6; }
    
    /* 3. ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
    .row { display: flex; gap: 8px; flex-wrap: nowrap !important; margin-bottom: 8px; width: 100%; }
    .btn { 
      border:0; border-radius:12px; padding: 12px 4px; cursor:pointer; font-weight:600; 
      text-decoration:none; text-align:center; display: flex; align-items: center; 
      justify-content: center; gap: 5px; flex: 1; min-width: 0;
      font-size: clamp(10px, 3.2vw, 13.5px); white-space: nowrap; transition: all 0.1s;
    }
    .btn:active { opacity: 0.7; transform: scale(0.98); }
    
    .btn-primary { 
      background: #fdf6f6; color: #8c5b5b; width: 100%; font-size: clamp(14px, 4vw, 16px); 
      padding: 16px; margin-top: 10px; border: 1px solid #e9d5d5; font-weight: 700; flex: none; 
    }
    .btn-ghost { background:#f5f5f5; color:#444; border: 1px solid #ddd; }
    .btn-white { background:#fff; color:#111; border: 1px solid #eee; }
    .btn-kakao { background: #FEE500; color: #3C1E1E; }
    .btn-naver { background: #03C75A; color: #fff; }
    
    .icon { width: 15px; height: 15px; fill: currentColor; flex-shrink: 0; vertical-align: middle; }    
    
    /* 4. ì…ë ¥ì°½ */
    input, select { 
      width:100%; padding:15px 16px; border-radius:12px; border:1px solid #eee; 
      font-size:16px; box-sizing: border-box; background-color:#fff; 
      outline:none; -webkit-appearance: none; text-align: left; line-height: normal;
    }
    input:focus { border-color: #d88a8a; }
    
    .divider { height:1px; background:#f0f0f0; margin: 16px 0; }
    .toast { position:fixed; left:50%; transform:translateX(-50%); bottom:18px; background:#111; color:#fff; padding:10px 14px; border-radius:12px; display:none; z-index:999; }
    
    /* 5. ì‹œ(Poem) */
    .poem { 
      white-space:pre-line; line-height:2.4; font-size: clamp(13px, 3.8vw, 15px); 
      text-align: center; color: #333; letter-spacing: -0.3px; 
    }

    #rsvpSection h2 { font-size: clamp(11px, 5.5vw, 17px) !important; white-space: nowrap; letter-spacing: -0.6px; width: 100%; display: block; text-align: left; }

    /* [ìˆ˜ì •] ë©”ì¸ ì‚¬ì§„ ë¹„ìœ¨ ë° í•„í„° ì ìš© */
    .main-photo-frame {
      width: 100%;
      aspect-ratio: 4 / 3; /* 4:3 ë¹„ìœ¨ ê³ ì • */
      overflow: hidden;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.05);
    }
    .main-photo {
      width: 100%; height: 100%; display: block; object-fit: cover;
      object-position: 50% 65%; /* ì¸ë¬¼ ìœ„ì¹˜ ìƒë‹¨ìœ¼ë¡œ */
      filter: brightness(1.05) contrast(1.02) sepia(0.08) saturate(0.9);
      transition: filter 0.3s ease;
    }

    /* ê°¤ëŸ¬ë¦¬ 3x3 */
    .gallery-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 4px; }
    .gallery-img { 
      width: 100%; aspect-ratio: 1/1; object-fit: cover; border-radius: 4px; cursor: pointer; 
      filter: brightness(1.05) contrast(1.02) sepia(0.08) saturate(0.9);
    }
    .main-photo:active, .gallery-img:active { filter: none; }

    /* ëª¨ë‹¬ */
    .modal { display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.9); justify-content: center; align-items: center; }
    .modal-img { max-width: 95%; max-height: 90%; border-radius: 4px; box-shadow: 0 0 20px rgba(0,0,0,0.5); }
    .modal-close { position: absolute; top: 20px; right: 20px; color: #fff; font-size: 30px; font-weight: bold; cursor: pointer; }

  </style>
</head>

<body>
  <div class="wrap">
    <div class="card" style="text-align: center; padding: 24px 18px;">
      <h1 style="line-height: 1.6; word-break: keep-all;">
        ì‹ ë™ìœ¤ Â· ì‹ ì§€ì—°<br>
        ê²°í˜¼ì‹ì— ì´ˆëŒ€í•©ë‹ˆë‹¤
      </h1>
      <div class="divider"></div>
      
      <div style="display: inline-block; text-align: right; line-height: 2; color: #333; font-weight: 500;">
        <div style="display: flex; align-items: center; justify-content: flex-end; margin-bottom: 2px;">
          <span style="font-size: clamp(12px, 3.5vw, 15px); color: #444; letter-spacing: -0.2px;">
            <b style="font-weight: 700; color: #111;">ì—¬í˜„ì£¼ Â· æ•…ì‹ ì–‘ì² </b><span style="font-size: 13px; color: #888; margin-left: 2px; font-weight: 400;">ì˜ ì•„ë“¤</span>
          </span>
          <span style="font-size: 18px; margin-left: 12px; margin-right: 4px;">ğŸ¤µ</span>
          <span style="font-size: clamp(16px, 4.5vw, 20px); font-weight: 800; color: #000;">ì‹ ë™ìœ¤</span>
        </div>
        
        <div style="display: flex; align-items: center; justify-content: flex-end;">
          <span style="font-size: clamp(12px, 3.5vw, 15px); color: #444; letter-spacing: -0.2px;">
            <b style="font-weight: 700; color: #111;">ë‚¨ìˆœí¬ Â· ì‹ ì‘í˜¸</b><span style="font-size: 13px; color: #888; margin-left: 2px; font-weight: 400;">ì˜ ë”¸</span>
          </span>
          <span style="font-size: 18px; margin-left: 12px; margin-right: 4px;">ğŸ‘°â€â™€ï¸</span>
          <span style="font-size: clamp(16px, 4.5vw, 20px); font-weight: 800; color: #000;">ì‹ ì§€ì—°</span>
        </div>
      </div>
    </div>

    <div style="padding: 10px 0 5px;">
      <div class="main-photo-frame">
        <img src="main.jpg" onclick="openModal(this.src)" class="main-photo">
      </div>
    </div>

    <div class="card">
      <div style="display: flex; align-items: flex-start; text-align: left; gap: 12px;">
        <h2 style="min-width: 65px;">ğŸ“… ì¼ì‹œ</h2>
        <div>
          <div style="font-weight:700; font-size: clamp(14px, 4vw, 16px); color:#111; line-height: 1.2;">2026ë…„ 5ì›” 23ì¼(í† ) ì˜¤í›„ 6:30</div>
          <div class="muted" style="margin-top: 4px;">ì‹ì‚¬ëŠ” ì˜¤í›„ 5:30ë¶€í„° ê°€ëŠ¥í•©ë‹ˆë‹¤.</div>
        </div>
      </div>
      <div class="divider"></div>
      <div class="row">
        <a id="gcalLink" class="btn btn-white" target="_blank">
          <svg class="icon" viewBox="0 0 24 24"><path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/><path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-1 .67-2.26 1.07-3.71 1.07-2.87 0-5.3-1.94-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/><path fill="#FBBC05" d="M5.84 14.11c-.22-.66-.35-1.36-.35-2.11s.13-1.45.35-2.11V7.06H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.94l3.66-2.83z"/><path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.66l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.06l3.66 2.83c.86-2.59 3.3-4.51 6.16-4.51z"/></svg>êµ¬ê¸€ ìº˜ë¦°ë” ë“±ë¡
        </a>
        <a id="icsLink" class="btn btn-white">
          <svg class="icon" viewBox="0 0 24 24"><rect x="3" y="4" width="18" height="18" rx="2" ry="2" fill="#FF5252" fill-opacity="0.1" stroke="#FF5252" stroke-width="2"/><path d="M3 10h18" stroke="#FF5252" stroke-width="2"/><path d="M8 2v4M16 2v4" stroke="#D32F2F" stroke-width="2" stroke-linecap="round"/><path d="M9 16l2 2 4-4" stroke="#FF5252" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>ë‚´ ìº˜ë¦°ë”ì— ì €ì¥
        </a>
      </div>
    </div>

    <div class="card">
      <div style="display: flex; align-items: flex-start; text-align: left; gap: 12px;">
        <h2 style="min-width: 65px;">ğŸ“ ì¥ì†Œ</h2>
        <div>
          <div style="font-weight:700; font-size: clamp(14px, 4vw, 16px); color:#111; line-height: 1.2;">ë‚¨ì‚°ì˜ˆìˆ ì› ì›¨ë”©í™€</div>
          <div class="muted" style="margin-top: 4px;">ì„œìš¸íŠ¹ë³„ì‹œ ìš©ì‚°êµ¬ ì†Œì›”ë¡œ 375</div>
        </div>
      </div>
      <div class="divider"></div>
      <div class="row">
        <a id="naverNav" class="btn btn-naver" target="_blank">
          <svg class="icon" viewBox="0 0 24 24" style="width:13px; height:13px;"><path d="M16.273 12.845L7.376 0H0v24h7.727V11.155L16.624 24H24V0h-7.727v12.845z"/></svg>ë„¤ì´ë²„ì§€ë„
        </a>
        <button class="btn btn-ghost" onclick="copyAddress('ì„œìš¸íŠ¹ë³„ì‹œ ìš©ì‚°êµ¬ ì†Œì›”ë¡œ 375')">
          <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="fill: none !important; width:13px; height:13px;"><rect x="9" y="9" width="11" height="11" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>ì£¼ì†Œë³µì‚¬
        </button>
        <a id="kakaoNav" class="btn btn-kakao" target="_blank">
          <svg class="icon" viewBox="0 0 24 24" style="width:15px; height:15px;"><path d="M12 3C7.029 3 3 6.129 3 10c0 2.5 1.708 4.683 4.287 5.768l-.944 3.454c-.1.366.11.72.443.834.12.04.245.045.362.016l4.053-2.693c.264.017.531.026.799.026 4.971 0 9-3.129 9-7s-4.029-7-9-7z"/></svg>ì¹´ì¹´ì˜¤ë§µ
        </a>
      </div>
    </div>

    <div class="card" id="rsvpSection">
      <h2 style="font-size: clamp(12px, 4.5vw, 17px) !important; white-space: nowrap; letter-spacing: -0.6px;">
        âœï¸ ì •ì„±ê» ì¤€ë¹„í•˜ê² ìŠµë‹ˆë‹¤. ì°¸ì„ ì •ë³´ë¥¼ ì•Œë ¤ì£¼ì„¸ìš”.
      </h2>
      
      <div class="divider"></div>
      
      <div style="text-align: left;">
        <div class="muted" style="margin-bottom:8px; font-weight: 600;">ğŸ“› ì„±í•¨</div>
        <input id="name" placeholder="ì°¸ì„í•˜ì‹œëŠ” ë¶„ì˜ ì„±í•¨" maxlength="10" />
        <div style="height:12px;"></div>
        
        <div class="muted" style="margin-bottom:8px; font-weight: 600;">ğŸ“± íœ´ëŒ€í° ë²ˆí˜¸</div>
        <input id="phone" type="tel" placeholder="010-0000-0000" maxlength="13" />
        <div style="height:12px;"></div>
        
        <div class="muted" style="margin-bottom:8px; font-weight: 600;">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ ì°¸ì„ ì¸ì› (ë³¸ì¸ í¬í•¨)</div>
        <select id="guestCount" style="color:#666;">
          <option value="" disabled selected>ì¸ì› ì„ íƒ</option>
          <option value="1">1ëª… (í˜¼ì ì°¸ì„í•©ë‹ˆë‹¤)</option>
          <option value="2">2ëª… (ë™ë°˜ì¸ 1ëª…)</option>
          <option value="3">3ëª… (ë™ë°˜ì¸ 2ëª…)</option>
          <option value="4">4ëª… (ë™ë°˜ì¸ 3ëª…)</option>
          <option value="5">5ëª… (ë™ë°˜ì¸ 4ëª…)</option>
          <option value="6">6ëª… (ë™ë°˜ì¸ 5ëª…)</option>
          <option value="7">7ëª… (ë™ë°˜ì¸ 6ëª…)</option>
          <option value="8">8ëª… (ë™ë°˜ì¸ 7ëª…)</option>
          <option value="9">9ëª… (ë™ë°˜ì¸ 8ëª…)</option>
          <option value="10">10ëª… ì´ìƒ</option>
        </select>
        <button id="submitBtn" class="btn-primary" onclick="submitRsvp()">ì°¸ì„ ì†Œì‹ ì „í•˜ê¸°</button>
      </div>
    </div>

    <div class="card" style="text-align: center; padding: 35px 18px;">
      <div class="poem">
        ì‹ ì¤‘í•œ ì§€ì—°ì€ ëŠê¸‹í•©ë‹ˆë‹¤.
        ë¹ ë¦¿í•œ ë™ìœ¤ì€ ì„±ê¸‰í•©ë‹ˆë‹¤.
        ì†ë„ê°€ ë‹¤ë¥¸ ë‘˜ì´ ë§Œë‚¬ìŠµë‹ˆë‹¤.
        ê²°í˜¼ ì¤€ë¹„ ì¤‘ì— ì°¸ ë§ì´ë„ ì•„ì›…ë‹¤ì›…í–ˆìŠµë‹ˆë‹¤.

        ê·¸ë…€ëŠ” ê°•ì•„ì§€ë¥¼ ì¢‹ì•„í•©ë‹ˆë‹¤.
        ê·¸ëŠ” ê³ ì–‘ì´ë¥¼ í‚¤ìš°ê³  ìˆìŠµë‹ˆë‹¤.
        ê¸°êº¼ì´ ê³ ì–‘ì´ë¥¼ ê°€ì¡±ìœ¼ë¡œ ë§ì´í•©ë‹ˆë‹¤.

        ë‹¤í–‰íˆ ìŒì‹ì„ ê°€ë¦¬ì§„ ì•ŠìŠµë‹ˆë‹¤.
        ì´ì™•ì´ë©´ ìƒëŒ€ê°€ ì¢‹ì•„í•˜ëŠ” ê±¸ í•¨ê»˜ ì¦ê¹ë‹ˆë‹¤.
        ëŠ˜ ë©”ë‰´ ì„ íƒì„ ë¯¸ë£¨ëŠ” ë¶€ì‘ìš©ì´ ìƒê¹ë‹ˆë‹¤.

        ë‹¤í–‰íˆ ì„œë¡œ ì¢‹ì•„í•˜ëŠ” ì·¨ë¯¸ê°€ ê°™ìŠµë‹ˆë‹¤.
        í…Œë‹ˆìŠ¤ë¥¼ ì¹˜ë‹¤ê°€ ë§Œë‚¬ìŠµë‹ˆë‹¤.
        í•¨ê»˜ ë•€ í˜ë¦¬ë©° í˜¸í¡í•˜ëŠ” ì¬ë¯¸ê°€ ìˆìŠµë‹ˆë‹¤.

        ì‚¶ì˜ ë°©í–¥ë„,
        ì‚¬ë‘ì˜ ë°©ì‹ë„ ë‹¤ë¥¸ ë‘˜ì´ ë§Œë‚¬ìŠµë‹ˆë‹¤.

        â€œììœ ëŠ” â€˜ìê¸°ì˜ ì´ìœ â€™ë¡œ ì‚´ì•„ê°€ëŠ” ê²ƒâ€ì´ë¼ê³  í–ˆìŠµë‹ˆë‹¤.
        ë„ˆë¬´ë‚˜ ë‹¤ë¥¸ ìƒëŒ€ë°©ì˜ ì¡´ì¬ë¥¼
        ìê¸°ì˜ ì´ìœ ë¡œ ë°›ì•„ë“¤ì´ê¸°ë¡œ í–ˆìŠµë‹ˆë‹¤.
        ì„œë¡œê°€ ììœ í•  ìˆ˜ ìˆëŠ” ê°€ì •ì„ ì´ë£¨ê³ ì í•©ë‹ˆë‹¤.

        í¬ë¡œì• ë½ì„ ê²ªëŠ” ëª¨ë“  ê³¼ì •ì—ì„œ
        ì™¸ë¡­ì§€ ì•Šë„ë¡ ê³ì„ ì§€í‚¤ê² ë‹¨ ë‹¤ì§,
        ì—¬ëŸ¬ë¶„ê³¼ í•¨ê»˜ ì´ ì•½ì†ì„ ë‚˜ëˆ„ê³  ì‹¶ìŠµë‹ˆë‹¤.

        í•¨ê»˜í•´ ì£¼ì…”ì„œ
        ì´ ì•½ì†ì˜ ì¦ì¸ì´ ë˜ì–´ì£¼ì‹œê¸¸ ë°”ëë‹ˆë‹¤.
        ê°ì‚¬í•©ë‹ˆë‹¤.
      </div>
    </div>

    <div class="card" style="padding: 20px 12px;">
      <div class="gallery-grid">
        <img src="1.jpg" onclick="openModal(this.src)" class="gallery-img">
        <img src="2.jpg" onclick="openModal(this.src)" class="gallery-img">
        <img src="3.jpg" onclick="openModal(this.src)" class="gallery-img">
        <img src="4.jpg" onclick="openModal(this.src)" class="gallery-img">
        <img src="5.jpg" onclick="openModal(this.src)" class="gallery-img">
        <img src="6.jpg" onclick="openModal(this.src)" class="gallery-img">
        <img src="7.jpg" onclick="openModal(this.src)" class="gallery-img">
        <img src="8.jpg" onclick="openModal(this.src)" class="gallery-img">
        <img src="9.jpg" onclick="openModal(this.src)" class="gallery-img">
      </div>
      
      <a href="https://photos.app.goo.gl/mJmxhc6hSy7y4ujA9" target="_blank" class="btn btn-white" style="margin-top: 15px;">
        ë” ë§ì€ ì‚¬ì§„ ë³´ê¸°
        <svg viewBox="0 0 24 24" style="width: 14px; height: 14px; margin-left: 3px; stroke: #333; stroke-width: 2; fill: none;"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg>
      </a>
    </div>

    <div class="card" style="text-align: left;">
      <h2>ğŸ™ ì¶•í•˜ì™€ ì‘ì›, ê°ì‚¬íˆ ë°›ê² ìŠµë‹ˆë‹¤</h2>
      <div class="divider"></div>
      
      <div style="margin-bottom: 20px;">
        <div style="font-size: 13px; color: #888; margin-bottom: 8px; font-weight: 600;">ì‹ ë‘ì¸¡</div>
        <div style="display: flex; align-items: center; background: #f8f8f8; padding: 10px 12px; border-radius: 10px;">
          <b style="font-weight: 700; min-width: 45px; font-size: 14px;">ì‹ ë™ìœ¤</b> 
          <span style="color: #666; font-size: clamp(11px, 3.2vw, 14px); white-space: nowrap; margin-left:4px;">ì‹ í•œ 110-515-863488</span>
          <button class="btn btn-white" style="flex:none; padding: 4px 8px; font-size: 11px; margin-left: auto;" onclick="copyTextDirect('110515863488')">ë³µì‚¬</button>
        </div>
      </div>
      
      <div>
        <div style="font-size: 13px; color: #888; margin-bottom: 8px; font-weight: 600;">ì‹ ë¶€ì¸¡</div>
        <div style="background: #fdf6f6; padding: 10px 12px; border-radius: 10px; margin-bottom: 6px; display: flex; align-items: center;">
          <b style="font-weight: 700; min-width: 45px; font-size: 14px;">ì‹ ì§€ì—°</b> 
          <span style="color: #666; font-size: clamp(11px, 3.2vw, 14px); white-space: nowrap; margin-left:4px;">êµ­ë¯¼ 512-602-01-208841</span>
          <button class="btn btn-white" style="flex:none; padding: 4px 8px; font-size: 11px; margin-left: auto;" onclick="copyTextDirect('51260201208841')">ë³µì‚¬</button>
        </div>
      </div>
    </div>
  </div>

  <div id="imageModal" class="modal" onclick="closeModal()">
    <span class="modal-close">Ã—</span>
    <img class="modal-img" id="fullImage">
  </div>
  <div id="toast" class="toast"></div>

  <script>
    var EVENT = {
      title: "ì‹ ì§€ì—°Â·ì‹ ë™ìœ¤ ê²°í˜¼ì‹",
      startISO: "20260523T183000",
      endISO: "20260523T203000",
      locationName: "ë‚¨ì‚°ì˜ˆìˆ ì› ì›¨ë”©í™€",
      address: "ì„œìš¸íŠ¹ë³„ì‹œ ìš©ì‚°êµ¬ ì†Œì›”ë¡œ 375"
    };

    document.addEventListener("DOMContentLoaded", function() {
      // RSVP ì¸ì› ì„ íƒì‹œ ê¸€ììƒ‰ ë³€ê²½
      document.getElementById('guestCount').addEventListener('change', function() {
        this.style.color = '#333';
      });
      initLinks();
    });

    // ì„±í•¨: í•œê¸€/ì˜ì–´/ê³µë°± í—ˆìš©
    document.getElementById('name').addEventListener('input', function(e) {
      e.target.value = e.target.value.replace(/[^ê°€-í£ã„±-ã…ã…-ã…£a-zA-Z\s]/g, '');
    });

    document.getElementById('phone').addEventListener('input', function (e) {
      var val = e.target.value.replace(/[^0-9]/g, '');
      var result = '';
      if (val.length < 4) { result = val; }
      else if (val.length < 7) { result = val.substr(0, 3) + '-' + val.substr(3); }
      else if (val.length < 11) { result = val.substr(0, 3) + '-' + val.substr(3, 3) + '-' + val.substr(6); }
      else { result = val.substr(0, 3) + '-' + val.substr(3, 4) + '-' + val.substr(7); }
      e.target.value = result;
    });

    function toast(msg) {
      var el = document.getElementById("toast");
      el.textContent = msg; el.style.display = "block";
      setTimeout(function () { el.style.display = "none"; }, 2200);
    }

    function copyAddress(txt) {
      var tempElem = document.createElement('textarea');
      tempElem.value = txt; document.body.appendChild(tempElem);
      tempElem.select(); document.execCommand('copy');
      document.body.removeChild(tempElem); toast("ì£¼ì†Œê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤.");
    }

    function copyTextDirect(txt) {
      var tempElem = document.createElement('textarea');
      tempElem.value = txt; document.body.appendChild(tempElem);
      tempElem.select(); document.execCommand('copy');
      document.body.removeChild(tempElem); toast("ê³„ì¢Œë²ˆí˜¸ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤.");
    }

    function submitRsvp() {
      var name = document.getElementById("name").value.trim();
      var phone = document.getElementById("phone").value.trim();
      var count = document.getElementById("guestCount").value;
      var btn = document.getElementById("submitBtn");
      var phoneRegex = /^01[016789]-\d{3,4}-\d{4}$/;

      if (name.length < 2) return toast("ì„±í•¨ì„ 2ê¸€ì ì´ìƒ ì…ë ¥í•´ ì£¼ì„¸ìš”.");
      if (!phoneRegex.test(phone)) return toast("ì „í™”ë²ˆí˜¸ë¥¼ ì •í™•íˆ ì…ë ¥í•´ ì£¼ì„¸ìš”.");
      if (!count) return toast("ì°¸ì„ ì¸ì›ì„ ì„ íƒí•´ ì£¼ì„¸ìš”.");

      btn.disabled = true; btn.textContent = "ì „ì†¡ ì¤‘...";

      // [ì¤‘ìš”] ì‚¬ìš©ìì˜ ë°±ì—”ë“œ URL
      var scriptUrl = "https://script.google.com/macros/s/AKfycbxl98bvkRMoE4K4MJ7sK3zO_y1zKC3Gvfn1LXs9bwYES3W9xE88EltCCghB30cEwiKi/exec"; 

      fetch(scriptUrl, {
        method: "POST",
        mode: "no-cors",
        headers: { "Content-Type": "text/plain;charset=utf-8" },
        body: JSON.stringify({ name: name, phone: phone, guestCount: count, ua: navigator.userAgent })
      })
      .then(response => {
        toast("ğŸ‰ ì •ë³´ê°€ ì†Œì¤‘íˆ ì „ë‹¬ë˜ì—ˆìŠµë‹ˆë‹¤.");
        document.getElementById("name").value = "";
        document.getElementById("phone").value = "";
        document.getElementById("guestCount").selectedIndex = 0;
        document.getElementById("guestCount").style.color = '#666';
        btn.disabled = false; btn.textContent = "ì°¸ì„ ì†Œì‹ ì „í•˜ê¸°";
      })
      .catch(error => {
        alert("ì˜¤ë¥˜ ë°œìƒ: " + error);
        btn.disabled = false; btn.textContent = "ì°¸ì„ ì†Œì‹ ì „í•˜ê¸°";
      });
    }

    function initLinks() {
      var navQuery = encodeURIComponent(EVENT.locationName);
      document.getElementById("kakaoNav").href = "https://map.kakao.com/link/search/" + navQuery;
      document.getElementById("naverNav").href = "https://map.naver.com/v5/search/" + navQuery;
      var gcal = "https://calendar.google.com/calendar/render?action=TEMPLATE&text=" + encodeURIComponent(EVENT.title) + "&dates=" + EVENT.startISO + "/" + EVENT.endISO + "&location=" + encodeURIComponent(EVENT.locationName);
      document.getElementById("gcalLink").href = gcal;
      var icsData = "BEGIN:VCALENDAR\r\nVERSION:2.0\r\nBEGIN:VEVENT\r\nSUMMARY:" + EVENT.title + "\r\nDTSTART:" + EVENT.startISO + "\r\nDTEND:" + EVENT.endISO + "\r\nLOCATION:" + EVENT.locationName + "\r\nEND:VEVENT\r\nEND:VCALENDAR";
      var blob = new Blob([icsData], { type: "text/calendar;charset=utf-8" });
      document.getElementById("icsLink").href = URL.createObjectURL(blob);
      document.getElementById("icsLink").download = "wedding.ics";
    }
    initLinks();

    function openModal(src) {
      var modal = document.getElementById("imageModal");
      var modalImg = document.getElementById("fullImage");
      modal.style.display = "flex";
      modalImg.src = src;
      document.body.style.overflow = "hidden";
    }

    function closeModal() {
      var modal = document.getElementById("imageModal");
      modal.style.display = "none";
      document.body.style.overflow = "auto";
    }
  </script>
</body>
</html>
